model User {
  id                           String                   @id @default(uuid())
  email                        String                   @unique
  username                     String                   @unique
  googleId                     String?                  @unique
  password                     String?
  name                         String?                  @default("Unnamed User")
  avatarUrl                    String?                  @default("https://www.gravatar.com/avatar/000000000000000000000000000000?d=mp&f=y")
  mobile                       String?
  role                         UserRole                 @default(USER)
  status                       UserStatus               @default(ACTIVE)
  isVerified                   Boolean                  @default(false)
  timezone                     String                   @default("UTC")
  language                     UserLanguage             @default(EN)
  allowNotification            Boolean                  @default(true)
  isLoggedIn                   Boolean                  @default(false)
  lastLoginAt                  DateTime?
  lastLogoutAt                 DateTime?
  lastActiveAt                 DateTime?
  otp                          String?
  otpExpiresAt                 DateTime?
  otpType                      OtpType?
  stripeCustomerId             String?                  @unique
  stripeDefaultPaymentMethodId String?                  @unique
  memberShip                   MemberShip               @default(FREE)
  trialEndsAt                  DateTime?
  subscriptionStatus           SubscriptionStatus?
  currentPlanId                String?
  fcmToken                     String?
  createdAt                    DateTime                 @default(now())
  updatedAt                    DateTime                 @default(now()) @updatedAt
  reservation                  Reservation[]
  spinHistory                  SpinHistory[]
  userTermsandCondition        UserTermsAndConditions[]
  businessProfile              BusinessProfile?
  invoices                     Invoice[]
  reedemaOffer                 ReedemaOffer[]           @relation("UserReedemaOffer")
  reviewReply                  ReviewReply[]
  reviews                      Review[]
  notifications                UserNotification[]
  userSubscription             UserSubscription[]
  favorite                     Favorite[]
  currentPlan                  SubscriptionPlan?        @relation(fields: [currentPlanId], references: [id])

  @@map("users")
}

enum UserRole {
  SUPER_ADMIN
  ADMIN
  ORGANIZER
  USER
}

enum UserStatus {
  ACTIVE
  INACTIVE
  BANNED
  DELETED
}

enum OtpType {
  REGISTER
  LOGIN
  RESET
}

enum MemberShip {
  FREE
  VIP
}

enum UserLanguage {
  EN
  HE
}
