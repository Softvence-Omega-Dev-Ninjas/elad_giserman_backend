model Review {
  id                String          @id @default(uuid())
  comment           String
  rating            Int
  userId            String
  businessProfileId String
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @default(now()) @updatedAt
  reply             ReviewReply[]
  businessProfile   BusinessProfile @relation(fields: [businessProfileId], references: [id], onDelete: Cascade)
  user              User            @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("reviews")
}

model ReviewReply {
  id        String   @id @default(uuid())
  comment   String
  reviewId  String
  userId    String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt
  review    Review   @relation(fields: [reviewId], references: [id], onDelete: Cascade)
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("review_replies")
}
